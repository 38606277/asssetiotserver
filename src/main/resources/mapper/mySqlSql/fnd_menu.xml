<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="fnd_menu">

    <select id="listMenu" resultType="Map" parameterType="Map">
        select * from fnd_func f where 1=1
        <if test="func_type != null and func_type!=''">   and  f.func_type = #{func_type} </if>
        <if test="func_pid != null and func_pid!=''">   and f.func_pid = #{func_pid} </if>
        ORDER BY `order`
    </select>

    <insert id="addMenu"  parameterType="Map">
        INSERT INTO fnd_func ( func_type,func_pid, func_name, valid, func_desc, func_icon, func_url, `order` )
        VALUES
        ( #{func_type},#{func_pid},#{func_name},#{valid},#{func_desc},#{func_icon},#{func_url},#{order});
    </insert>

    <update id="updateMenuOrder"  parameterType="Map">
        update fnd_func f set f.`order`=#{order} where f.func_id=#{func_id}
    </update>
</mapper>
